<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">

<head th:replace="commons/fragments :: header" />

<body class="hold-transition sidebar-mini">
	<div class="wrapper">

		<!-- Navbar -->
		<div th:replace="commons/fragments :: top-nav" />
		<!-- /.navbar -->

		<!-- Main Sidebar Container -->
		<div th:replace="commons/fragments :: aside" />

		<!-- Content Wrapper. Contains page content -->
		<div class="content-wrapper">

			<!-- Main content -->
			<div class="content">

				<div class="container-fluid">

					<!--ui-->

					<div class="row">
						<!-- /.col-md-6 -->
						<div class="col-md-6">
							<div class="card card-info">
								<div class="card-header">
									<h5 class="m-0">My Profile Information</h5>
								</div>
								<div class="card-body">
									<!--<p class="login-box-msg">Register a new account</p>-->

									<form th:action="@{/user/profile}" method="post">
										<div class="alert alert-success" th:if="${msg}">
											<span th:text="${msg}"></span>
										</div>
										<input type="hidden" name="id" th:value="${user.userId}" />
										<div class="form-group">
											<label for="firstname">Firstname</label>
											<input type="text" class="form-control" name="firstName"
												th:value="${user.firstName}" placeholder="First name" roleId="firstname"
												id="firstname" required="required">

										</div>
										<div class="form-group">
											<label for="lastname">Lastname</label>
											<input type="text" class="form-control" name="lastName"
												th:value="${user.lastName}" placeholder="Last name" roleId="lastname"
												id="lastname" required="required">
										</div>
										<div class="form-group">
											<label for="phone">Phone</label>
											<input type="text" class="form-control" name="phone"
												th:value="${user.phone}" placeholder="xxx-xxxx-xxxx" roleId="phone"
												id="phone">

										</div>
										<div class="form-group">
											<label for="username">Username</label>
											<input type="text" class="form-control" name="username"
												th:value="${user.username}" placeholder="Username" roleId="username"
												id="username" required="required">

										</div>
										<div class="alert alert-danger" th:if="${usernameExists}">Username already
											exists</div>
										<div class="form-group">
											<label>Email</label>
											<input type="email" class="form-control" name="email"
												th:value="${user.email}" placeholder="Email" roleId="email" id="email"
												required="required">

										</div>
										<div class="alert alert-danger" th:if="${emailExists}">Email already exists
										</div>

										<div class="row">
											<div class="col-8">
												<!--<div class="icheck-primary">
								<input type="checkbox" id="showPassword" name="showPassword">
								<label for="showPassword">
									Show Password
								</label>
							</div>-->
											</div>
											<!-- /.col -->
											<div class="col-4">
												<button type="submit" class="btn btn-primary btn-block btn-flat">Change
													Settings</button>
											</div>
											<!-- /.col -->
										</div>
									</form>


								</div>
							</div>
						</div>
						<div class="col-md-6">
							<div class="card card-primary">
								<div class="card-header">
									<h3 class="card-title">Bank Account Information</h3>
								</div>
								<!-- /.card-header -->
								<div class="card-body">
									<table id="dataList" class="table table-bordered table-striped">
										<thead>
											<tr>

												<th>Primary Account Number</th>
												<th>Savings Account Number</th>

											</tr>
										</thead>
										<tbody>
											<tr>

												<td data-th-text="${user.primaryAccount.accountNumber}"></td>
												<td data-th-text="${user.savingsAccount.accountNumber}"></td>

											</tr>

										</tbody>

									</table>
								</div>
								<!-- /.card-body -->
							</div>
						</div>
						<!-- /.col-md-6 -->
					</div>
					<div class="row">
						<!-- /.col-md-6 -->


						<!-- /.col-md-6 -->
					</div>
					<!-- /.row -->
				</div><!-- /.container-fluid -->
			</div>
			<!-- /.content -->
		</div>
		<!-- /.content-wrapper -->

		<!-- Main Footer -->
		<div th:replace="commons/fragments :: footer" />
	</div>
	<!-- ./wrapper -->

	<!-- REQUIRED SCRIPTS -->

	<div th:replace="commons/fragments :: scripts" />
	<script>
		const showPassword = document.querySelector("#showPassword");
		const password = document.querySelector("#password");

		showPassword.addEventListener("click", function () {
			// toggle the type attribute
			const type = password.getAttribute("type") === "password" ? "text" : "password";
			password.setAttribute("type", type);
		});

		var addSerialNumber = function () {
			$('table tr').each(function (index) {
				$(this).find('td:nth-child(1)').html(index);
			});
		};

		addSerialNumber();
	</script>
</body>

</html>